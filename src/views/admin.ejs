<!doctype html>
<html lang="en">
  <%- include('./blocks/header') %>
  <body>
    <div class="container">
      <%- include('./blocks/navbar') %>
      <div class="row">
        <div class="col-xl-6">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Cooldown</th>
                <th scope="col">maxRequests</th>
                <th scope="col">maxRequestper</th>
                <th scope="col">isBlocked</th>
              </tr>
            </thead>
            <tbody>
              <% for (endpoint of endpoints) { %>
                <tr>
                  <th scope="row"><%= endpoint.name %></th>
                  <td><%= endpoint.cooldown %></td>
                  <td><%= endpoint.maxRequests %></td>
                  <td><%= endpoint.maxRequestper %></td>
                  <td><input class="form-check-input" type="checkbox" id="flexCheckChecked" <% if (endpoint.isBlocked) { %> checked<% }%>> <%= endpoint.isBlocked %></td>
                </tr>
              <% } %>
            </tbody>
          </table>
        </div>
        <div class="col-xl-6">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Blocked?</th>
                <th scope="col">Premium?</th>
                <th scope="col">Admin?</th>
              </tr>
            </thead>
            <tbody>
              <% for (u of users) { %>
                <tr>
                  <% if (u.id == user.id) { %>
                    <th scope="row"><%= u.id %></th>
                    <td><input class="form-check-input" type="checkbox" onchange="this.form.submit()" id="flexCheckChecked" disabled <% if (u.isBlocked) { %> checked<% }%>> <%= u.isBlocked %></td>
                    <td><input class="form-check-input" type="checkbox" id="flexCheckChecked" disabled <% if (u.isPremium) { %> checked<% }%>>  <%= u.isPremium %></td>
                    <td><input class="form-check-input" type="checkbox" id="flexCheckChecked" disabled <% if (u.isAdmin) { %> checked<% }%>>  <%= u.isAdmin %></td>
                  <% } else { %>
                    <th scope="row"><%= u.id %></th>
                    <td><input class="form-check-input" type="checkbox" id="flexCheckChecked" <% if (u.isBlocked) { %> checked<% }%>> <%= u.isBlocked %></td>
                    <td><input class="form-check-input" type="checkbox" id="flexCheckChecked" <% if (u.isPremium) { %> checked<% }%>>  <%= u.isPremium %></td>
                    <td><input class="form-check-input" type="checkbox" id="flexCheckChecked" <% if (u.isAdmin) { %> checked<% }%>>  <%= u.isAdmin %></td>
                  <% } %>
                </tr>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>
      <script src="/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    </div>
  </body>
</html>
